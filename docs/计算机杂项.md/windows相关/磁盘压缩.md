# 磁盘可压缩空间小于实际空间

往往是因为有文件碎片，导致压缩算法无法有效地找到连续的可压缩空间，从而影响了压缩效果。

## 解决方法

先试一试磁盘碎片整理工具，整理完碎片后再进行压缩，通常可以获得更好的压缩效果。

右键左下角 Windows 图标 -> 磁盘管理 -> 右键需要压缩的磁盘 -> 属性 -> 工具 -> 优化和碎片整理驱动器 -> 选择磁盘 -> 优化

整理完碎片后，再次尝试压缩磁盘空间，通常可以看到可压缩空间有所增加。

如果还不行，查看一下事件查看器 ->  Windows 日志 -> 应用程序，看看来源为 Defragd 的日志，点击并查看详情。这样能看到磁盘是因为什么文件而无法压缩。

### 最后一个不可移动的文件显示为: \$Extend\$UsnJrnl:$J:$DATA

使用命令行解决：

```powershell
fsutil usn deletejournal /n <盘符>:
```
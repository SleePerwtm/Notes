# 读写

## 控制台输出

```R
# 输出到控制台
print("Hello, world!")

# 或是直接写变量名
x <- 10
x
```

# 数据类型

- 向量 Vector
- 矩阵 Matrix
- 数组 Array
- 数据框 Data Frame
- 因子 Factor
- 列表 List

![R的数据类型](assets/基础知识-R的数据类型.png)

## 向量 Vector

创建：使用 `c()` 函数，将元素用逗号隔开。

```R
v1 <- c(1, 2, 3)
v2 <- c("a", "b", "c")
v3 <- c(TRUE, FALSE, TRUE)
```

## 矩阵 Matrix

### 创建

#### 使用 `matrix()` 函数创建矩阵

创建：使用 `matrix()` 函数，指定填充值、行数、列数。如果填充值比总数少，将会重复补充值。

```R
m1 <- matrix(1:10, nrow = 2, ncol = 5)
m2 <- matrix(1:4, nrow = 5, ncol = 5)
m1
m2
```

```R
> m1
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10
> m2
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    2    3    4    1
[2,]    2    3    4    1    2
[3,]    3    4    1    2    3
[4,]    4    1    2    3    4
[5,]    1    2    3    4    1
```

#### 使用 `cbind()` 和 `rbind()` 函数合并矩阵

合并：使用 `cbind()` 和 `rbind()` 函数，分别将两个矩阵沿列和行方向进行合并。

也可将向量合并为矩阵。向量不管哪种合并方式，都并排合并。

### 转置

使用 `t()` 函数进行转置，返回转置后的矩阵。

```R
m1
m2 = t(m1) # m2 为转置后的 m1
```

## 数组 Array

与矩阵类似，但可以有多个维度。

## 数据框 Data Frame

数据框是 R 中最常用的一种数据结构。数据框由一组有相同结构的列组成，每一列可以是不同类型的数据。

## 因子 Factor

因子是 R 中用于表示分类变量的数据类型。

# 基本运算

## 加减乘除

不仅可以对数字进行运算，还可以对向量、矩阵、数组等进行运算。

如 `c(1, 2, 3) + c(4, 5, 6)` 结果为 `c(5, 7, 9)`。

大小相同的向量、矩阵、数组等可以进行对应位置的加减乘除运算。

##

# 常用函数

## 随机数生成

1. uniform - 产生均匀分布的随机数。
    - `runif(count, lower, upper)`
        - 产生 `count` 个均匀分布的随机数，范围在 `lower` 和 `upper` 之间。
2. normal - 产生正态分布的随机数。
    - `rnorm(count, mean, sd)`
        - 产生 `count` 个正态分布的随机数，均值为 `mean`，标准差为 `sd`。
3. sample - 从一个已有的数据集中随机抽取指定个数的元素。
    - `sample(vector, size, replace)`
        - 从 `vector` 中随机抽取 `size` 个元素，`replace` 为 `TRUE` 时可以重复抽取。

## 序列生成

1. sequence - 生成等差数列。
    - `seq(from, to, by)`
        - 生成从 `from` 到 `to` 之间，步长为 `by` 的等差数列。
2. repetition - 重复生成元素。
    - `rep(element, times)`
        - 重复 `element` `times` 次。
    - `rep(element, l=length)`
        - 重复 `element`，生成长度为 `l` 的向量。

## 统计函数

1. mean - 计算平均值。
    - `mean(x)`
        - 计算 `x` 的平均值。
2. sd - 计算标准差。
    - `sd(x)`
        - 计算 `x` 的标准差。
3. max - 计算最大值。
    - `max(x)`
        - 计算 `x` 的最大值。
4. min - 计算最小值。
    - `min(x)`
        - 计算 `x` 的最小值。
5. sum - 计算和。
    - `sum(x)`
        - 计算 `x` 的和。
6. sqrt - 计算平方根。
    - `sqrt(x)`
        - 计算 `x` 的平方根。
7. range - 计算范围。
    - `range(x)`
        - 计算 `x` 的范围。

## NA(Not Available) 处理

数据中可能包含缺失值，如果存在缺失值，会导致一些统计函数无法正常运行。

如：`mean(c(1, 2, NA))` 会输出 `NA`

所以用以下函数来处理数据，去除 `NA` 值。

1. is.na - 判断是否为 NA。
    - `is.na(x)`
        - 逐个输出每一个元素是否为 `NA` 的布尔值。

例如给 `a <- c(1, 2, NA, 4, NA)` 去除 `NA` 值，可以用以下代码：

```R
a_new <- a[!is.na(a)]
```

过滤器会只保留布尔值为 `TRUE` 的元素，所以得到的 `a_new` 为 `c(1, 2, 4)`。

# R strings

## 拼接

1. paste - 连接字符串。
    - `paste(string1, string2, ...)`
        - 连接多个字符串，默认用空格分隔，可以用 `sep` 参数指定分隔符。
2. paste0 - 连接字符串，不用空格分隔。
    - `paste0(string1, string2, ...)`
        - 连接多个字符串，不用空格分隔。

# R loops

## for 循环

```R
for (i in 1:10)
{
    print(i)
}
```

# R Matrix

## 创建矩阵

```R
# 创建一个元素全为 0 的 4 行 5 列矩阵
max1 <- matrix(0, nrow=4, ncol=5)
```

```R
max2 <- matrix(1:20, nrow=4, ncol=5)
```

输出：

```R
max2
```
```R
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    5    9   13   17
[2,]    2    6   10   14   18
[3,]    3    7   11   15   19
[4,]    4    8   12   16   20
```

## 对角线操作

```R
diag(max2) = 0
```

输出：

```R
max2
```
```R
     [,1] [,2] [,3] [,4] [,5]
[1,]    0    5    9   13   17
[2,]    2    0   10   14   18
[3,]    3    7    0   15   19
[4,]    4    8   12    0   20
```

## 转置

```R
t(max2)
```

输出：

```R
     [,1] [,2] [,3] [,4]
[1,]    0    2    3    4
[2,]    5    0    7    8
[3,]    9   10    0   12
[4,]   13   14   15    0
[5,]   17   18   19   20
```
